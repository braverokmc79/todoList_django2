{% extends "todo/include/base.html" %}

{% block title %}<title>할일 목록</title>{% endblock %}

{% block content %}
<div class="w-full max-w-2xl space-y-6">

  <!-- 새 할 일 버튼 (상단) -->
  <div class="flex justify-end">
    <a href="{% url 'todo:todo_create' %}" class="inline-flex items-center gap-2 px-5 py-2 bg-gray-600 text-white text-sm font-medium rounded-full shadow hover:bg-gray-700 transition">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
      새 할 일
    </a>
  </div>

  <!-- 할 일 목록 -->
  {% for todo in todos %}
    <div class="bg-white p-5 rounded-2xl shadow hover:shadow-lg transition-all border border-gray-200">
      <div class="flex items-center justify-between">
        <div>
          
          
         <!-- 목록 템플릿의 제목 부분에 링크 걸기 -->
        {% if todo.complete %}
          <h2 class="text-lg font-semibold line-through text-gray-400">
            <a href="{% url 'todo:todo_detail' todo.id %}" class="hover:underline">{{ todo.name }}</a>
          </h2>
        {% else %}
          <h2 class="text-lg font-semibold text-gray-800">
            <a href="{% url 'todo:todo_detail' todo.id %}" class="hover:underline">{{ todo.name }}</a>
          </h2>
        {% endif %}




          <p class="text-sm text-gray-500 mt-1">{{ todo.description }}</p>
        </div>
        <div class="flex space-x-2">
          <a href="{% url 'todo:todo_update' todo.id %}" class="text-sm px-3 py-1 rounded-xl
           bg-yellow-100 text-yellow-800 hover:bg-yellow-200 transition">수정</a>
          
           <form method="post" action="{% url 'todo:todo_delete' todo.id %}">
            {% csrf_token %}
            <button type="submit" class="text-sm px-3 py-1 rounded-xl bg-red-100 text-red-800 hover:bg-red-200 transition">삭제</button>
          </form>
        </div>
      </div>
    </div>
  {% empty %}
    <p class="text-center text-gray-400">할 일이 없습니다.</p>
  {% endfor %}
</div>
{% endblock %}
